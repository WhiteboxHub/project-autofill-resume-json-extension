<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced ATS Job Application Test Form</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 40px 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }

    .header h1 {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .header p {
      opacity: 0.9;
      font-size: 14px;
    }

    .form-content {
      padding: 40px;
    }

    .section {
      margin-bottom: 40px;
    }

    .section-title {
      font-size: 20px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e2e8f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    label {
      display: block;
      font-weight: 500;
      color: #2d3748;
      margin-bottom: 8px;
      font-size: 14px;
    }

    label.required::after {
      content: " *";
      color: #e53e3e;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="url"],
    input[type="number"],
    input[type="date"],
    select,
    textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
      transition: all 0.2s;
      background: white;
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    textarea {
      min-height: 100px;
      resize: vertical;
    }

    select {
      cursor: pointer;
    }

    .checkbox-group,
    .radio-group {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .checkbox-label,
    .radio-label {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      transition: all 0.2s;
    }

    .checkbox-label:hover,
    .radio-label:hover {
      border-color: #cbd5e0;
      background: #f7fafc;
    }

    input[type="checkbox"],
    input[type="radio"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .add-btn {
      padding: 10px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .add-btn:hover {
      background: #5568d3;
      transform: translateY(-1px);
    }

    .entry-card {
      background: #f7fafc;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      position: relative;
    }

    .entry-card h4 {
      margin-bottom: 15px;
      color: #2d3748;
      font-size: 16px;
    }

    .remove-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      background: #fc8181;
      color: white;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
    }

    .remove-btn:hover {
      background: #f56565;
    }

    /* Skills Autocomplete */
    .skills-container {
      position: relative;
    }

    .skills-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      padding: 8px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      min-height: 50px;
      background: white;
    }

    .skill-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: #667eea;
      color: white;
      border-radius: 16px;
      font-size: 13px;
      font-weight: 500;
    }

    .skill-chip-remove {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 16px;
      line-height: 1;
      padding: 0;
      width: 16px;
      height: 16px;
    }

    .skills-input {
      border: none !important;
      padding: 8px !important;
      flex: 1;
      min-width: 150px;
    }

    .skills-input:focus {
      box-shadow: none !important;
    }

    .autocomplete-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 2px solid #e2e8f0;
      border-top: none;
      border-radius: 0 0 8px 8px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
    }

    .autocomplete-dropdown.active {
      display: block;
    }

    .autocomplete-option {
      padding: 12px 16px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .autocomplete-option:hover,
    .autocomplete-option.selected {
      background: #edf2f7;
    }

    .submit-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
    }

    .info-box {
      background: #ebf8ff;
      border-left: 4px solid #3182ce;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
      color: #2c5282;
    }

    .badge {
      display: inline-block;
      padding: 4px 12px;
      background: #48bb78;
      color: white;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>üöÄ Senior Software Engineer</h1>
      <p>Acme Corporation ‚Ä¢ San Francisco, CA ‚Ä¢ Full-time</p>
    </div>

    <div class="form-content">
      <div class="info-box">
        üí° <strong>Advanced Test Form:</strong> This form tests dynamic Education/Work sections with "Add" buttons and
        Skills autocomplete (Jobright-style). The extension should automatically click "Add" buttons and fill all
        entries with ZERO human interaction.
      </div>

      <!-- SECTION 1: Personal Information -->
      <div class="section">
        <h2 class="section-title">Personal Information</h2>

        <div class="form-row">
          <div class="form-group">
            <label for="firstName" class="required">First Name</label>
            <input type="text" id="firstName" name="first_name" placeholder="Enter your first name">
          </div>

          <div class="form-group">
            <label for="lastName" class="required">Last Name</label>
            <input type="text" id="lastName" name="last_name" placeholder="Enter your last name">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="email" class="required">Email Address</label>
            <input type="email" id="email" name="email_address" placeholder="you@example.com">
          </div>

          <div class="form-group">
            <label for="phone" class="required">Phone Number</label>
            <input type="tel" id="phone" name="phone_number" placeholder="(555) 123-4567">
          </div>
        </div>
      </div>

      <!-- SECTION 2: Education (Dynamic with Add Button) -->
      <div class="section">
        <h2 class="section-title">
          <span>Education <span class="badge">Dynamic</span></span>
          <button type="button" class="add-btn" id="addEducationBtn">+ Add Education</button>
        </h2>

        <div id="educationContainer">
          <!-- First education entry (always visible) -->
          <div class="entry-card education-entry" data-index="0">
            <h4>Education #1</h4>

            <div class="form-group">
              <label>Degree</label>
              <select name="degree_0" class="education-degree">
                <option value="">Select degree</option>
                <option value="High School">High School Diploma</option>
                <option value="Associate">Associate's Degree</option>
                <option value="Bachelor">Bachelor's Degree</option>
                <option value="Masters">Master's Degree</option>
                <option value="PhD">Doctorate (PhD)</option>
              </select>
            </div>

            <div class="form-group">
              <label>University / Institution</label>
              <input type="text" name="institution_0" class="education-institution"
                placeholder="e.g., Stanford University">
            </div>

            <div class="form-group">
              <label>Field of Study / Major</label>
              <input type="text" name="major_0" class="education-major" placeholder="e.g., Computer Science">
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Start Date</label>
                <input type="text" name="edu_start_0" class="education-start" placeholder="MM/YYYY">
              </div>

              <div class="form-group">
                <label>End Date / Graduation Date</label>
                <input type="text" name="edu_end_0" class="education-end" placeholder="MM/YYYY">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- SECTION 3: Work Experience (Dynamic with Add Button) -->
      <div class="section">
        <h2 class="section-title">
          <span>Work Experience <span class="badge">Dynamic</span></span>
          <button type="button" class="add-btn" id="addExperienceBtn">+ Add Experience</button>
        </h2>

        <div id="experienceContainer">
          <!-- First work entry (always visible) -->
          <div class="entry-card work-entry" data-index="0">
            <h4>Experience #1</h4>

            <div class="form-group">
              <label>Company Name</label>
              <input type="text" name="company_0" class="work-company" placeholder="Company name">
            </div>

            <div class="form-group">
              <label>Job Title</label>
              <input type="text" name="position_0" class="work-position" placeholder="e.g., Senior Software Engineer">
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Start Date</label>
                <input type="text" name="work_start_0" class="work-start" placeholder="MM/YYYY">
              </div>

              <div class="form-group">
                <label>End Date</label>
                <input type="text" name="work_end_0" class="work-end" placeholder="MM/YYYY or leave empty">
              </div>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" name="currently_working_0" class="work-current">
                <span>I currently work here</span>
              </label>
            </div>

            <div class="form-group">
              <label>Responsibilities / Description</label>
              <textarea name="work_description_0" class="work-description"
                placeholder="Describe your responsibilities..."></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- SECTION 4: Skills (Autocomplete/Chip Input) -->
      <div class="section">
        <h2 class="section-title">
          <span>Skills <span class="badge">Autocomplete</span></span>
        </h2>

        <div class="form-group">
          <label>Technical Skills (Search and select)</label>
          <div class="skills-container">
            <div class="skills-chips" id="skillsChips">
              <input type="text" class="skills-input" id="skillsInput" placeholder="Type to search skills..."
                autocomplete="off" role="combobox">
            </div>
            <div class="autocomplete-dropdown" id="skillsDropdown" role="listbox"></div>
          </div>
        </div>
      </div>

      <!-- SECTION 5: Professional Summary -->
      <div class="section">
        <h2 class="section-title">Professional Summary</h2>

        <div class="form-group">
          <label for="summary">Professional Summary</label>
          <textarea id="summary" name="professional_summary"
            placeholder="Brief summary of your professional background"></textarea>
        </div>
      </div>

      <!-- SECTION 6: LinkedIn Profile -->
      <div class="section">
        <h2 class="section-title">Professional Profiles</h2>

        <div class="form-group">
          <label for="linkedin">LinkedIn Profile URL</label>
          <input type="url" id="linkedin" name="linkedin_url" placeholder="https://linkedin.com/in/yourprofile">
        </div>

        <div class="form-group">
          <label for="github">GitHub Profile URL</label>
          <input type="url" id="github" name="github_url" placeholder="https://github.com/yourusername">
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="submit-btn">Submit Application</button>
    </div>
  </div>

  <script>
    // ========================================================================
    // EDUCATION: Dynamic Add/Remove
    // ========================================================================
    let educationCount = 1;

    document.getElementById('addEducationBtn').addEventListener('click', function () {
      const container = document.getElementById('educationContainer');
      const newEntry = document.createElement('div');
      newEntry.className = 'entry-card education-entry';
      newEntry.setAttribute('data-index', educationCount);
      newEntry.innerHTML = `
        <button type="button" class="remove-btn" onclick="this.parentElement.remove()">√ó</button>
        <h4>Education #${educationCount + 1}</h4>
        
        <div class="form-group">
          <label>Degree</label>
          <select name="degree_${educationCount}" class="education-degree">
            <option value="">Select degree</option>
            <option value="High School">High School Diploma</option>
            <option value="Associate">Associate's Degree</option>
            <option value="Bachelor">Bachelor's Degree</option>
            <option value="Masters">Master's Degree</option>
            <option value="PhD">Doctorate (PhD)</option>
          </select>
        </div>

        <div class="form-group">
          <label>University / Institution</label>
          <input type="text" name="institution_${educationCount}" class="education-institution" placeholder="e.g., Stanford University">
        </div>

        <div class="form-group">
          <label>Field of Study / Major</label>
          <input type="text" name="major_${educationCount}" class="education-major" placeholder="e.g., Computer Science">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Start Date</label>
            <input type="text" name="edu_start_${educationCount}" class="education-start" placeholder="MM/YYYY">
          </div>
          
          <div class="form-group">
            <label>End Date / Graduation Date</label>
            <input type="text" name="edu_end_${educationCount}" class="education-end" placeholder="MM/YYYY">
          </div>
        </div>
      `;
      container.appendChild(newEntry);
      educationCount++;
      console.log('‚úÖ Added new education section');
    });

    // ========================================================================
    // WORK EXPERIENCE: Dynamic Add/Remove
    // ========================================================================
    let workCount = 1;

    document.getElementById('addExperienceBtn').addEventListener('click', function () {
      const container = document.getElementById('experienceContainer');
      const newEntry = document.createElement('div');
      newEntry.className = 'entry-card work-entry';
      newEntry.setAttribute('data-index', workCount);
      newEntry.innerHTML = `
        <button type="button" class="remove-btn" onclick="this.parentElement.remove()">√ó</button>
        <h4>Experience #${workCount + 1}</h4>
        
        <div class="form-group">
          <label>Company Name</label>
          <input type="text" name="company_${workCount}" class="work-company" placeholder="Company name">
        </div>

        <div class="form-group">
          <label>Job Title</label>
          <input type="text" name="position_${workCount}" class="work-position" placeholder="e.g., Senior Software Engineer">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Start Date</label>
            <input type="text" name="work_start_${workCount}" class="work-start" placeholder="MM/YYYY">
          </div>
          
          <div class="form-group">
            <label>End Date</label>
            <input type="text" name="work_end_${workCount}" class="work-end" placeholder="MM/YYYY or leave empty">
          </div>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" name="currently_working_${workCount}" class="work-current">
            <span>I currently work here</span>
          </label>
        </div>

        <div class="form-group">
          <label>Responsibilities / Description</label>
          <textarea name="work_description_${workCount}" class="work-description" placeholder="Describe your responsibilities..."></textarea>
        </div>
      `;
      container.appendChild(newEntry);
      workCount++;
      console.log('‚úÖ Added new work experience section');
    });

    // ========================================================================
    // SKILLS: Autocomplete with Chips
    // ========================================================================
    const skillsData = [
      'Python', 'JavaScript', 'Java', 'C++', 'C#', 'Ruby', 'Go', 'Rust', 'Swift', 'Kotlin',
      'React', 'Angular', 'Vue.js', 'Node.js', 'Express', 'Django', 'Flask', 'Spring Boot',
      'AWS', 'Azure', 'GCP', 'Docker', 'Kubernetes', 'Jenkins', 'Git', 'CI/CD',
      'SQL', 'MongoDB', 'PostgreSQL', 'MySQL', 'Redis', 'Elasticsearch',
      'Machine Learning', 'Deep Learning', 'TensorFlow', 'PyTorch', 'Scikit-learn',
      'REST API', 'GraphQL', 'Microservices', 'Agile', 'Scrum'
    ];

    const selectedSkills = [];
    const skillsInput = document.getElementById('skillsInput');
    const skillsChips = document.getElementById('skillsChips');
    const skillsDropdown = document.getElementById('skillsDropdown');

    skillsInput.addEventListener('input', function (e) {
      const query = e.target.value.toLowerCase();

      if (query.length === 0) {
        skillsDropdown.classList.remove('active');
        return;
      }

      const matches = skillsData.filter(skill =>
        skill.toLowerCase().includes(query) && !selectedSkills.includes(skill)
      );

      if (matches.length > 0) {
        skillsDropdown.innerHTML = matches.map(skill =>
          `<div class="autocomplete-option" role="option" data-skill="${skill}">${skill}</div>`
        ).join('');
        skillsDropdown.classList.add('active');
      } else {
        skillsDropdown.classList.remove('active');
      }
    });

    skillsDropdown.addEventListener('click', function (e) {
      if (e.target.classList.contains('autocomplete-option')) {
        const skill = e.target.getAttribute('data-skill');
        addSkillChip(skill);
        skillsInput.value = '';
        skillsDropdown.classList.remove('active');
      }
    });

    skillsInput.addEventListener('keydown', function (e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        const firstOption = skillsDropdown.querySelector('.autocomplete-option');
        if (firstOption) {
          const skill = firstOption.getAttribute('data-skill');
          addSkillChip(skill);
          skillsInput.value = '';
          skillsDropdown.classList.remove('active');
        }
      }
    });

    function addSkillChip(skill) {
      if (selectedSkills.includes(skill)) return;

      selectedSkills.push(skill);

      const chip = document.createElement('div');
      chip.className = 'skill-chip';
      chip.innerHTML = `
        ${skill}
        <button type="button" class="skill-chip-remove" onclick="removeSkill('${skill}')">√ó</button>
      `;

      skillsChips.insertBefore(chip, skillsInput);
      console.log(`‚úÖ Added skill: ${skill}`);
    }

    function removeSkill(skill) {
      const index = selectedSkills.indexOf(skill);
      if (index > -1) {
        selectedSkills.splice(index, 1);
      }

      const chips = skillsChips.querySelectorAll('.skill-chip');
      chips.forEach(chip => {
        if (chip.textContent.includes(skill)) {
          chip.remove();
        }
      });
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function (e) {
      if (!e.target.closest('.skills-container')) {
        skillsDropdown.classList.remove('active');
      }
    });

    // ========================================================================
    // FORM SUBMISSION
    // ========================================================================
    document.querySelector('.submit-btn').addEventListener('click', function (e) {
      e.preventDefault();

      const formData = {
        education: [],
        work: [],
        skills: selectedSkills
      };

      // Collect education entries
      document.querySelectorAll('.education-entry').forEach((entry, index) => {
        formData.education.push({
          degree: entry.querySelector('.education-degree')?.value,
          institution: entry.querySelector('.education-institution')?.value,
          major: entry.querySelector('.education-major')?.value,
          startDate: entry.querySelector('.education-start')?.value,
          endDate: entry.querySelector('.education-end')?.value
        });
      });

      // Collect work entries
      document.querySelectorAll('.work-entry').forEach((entry, index) => {
        formData.work.push({
          company: entry.querySelector('.work-company')?.value,
          position: entry.querySelector('.work-position')?.value,
          startDate: entry.querySelector('.work-start')?.value,
          endDate: entry.querySelector('.work-end')?.value,
          current: entry.querySelector('.work-current')?.checked,
          description: entry.querySelector('.work-description')?.value
        });
      });

      console.log('üìä Form Data:', formData);
      console.log(`‚úÖ Education entries: ${formData.education.length}`);
      console.log(`‚úÖ Work entries: ${formData.work.length}`);
      console.log(`‚úÖ Skills: ${formData.skills.length}`);

      alert(`‚úÖ Form submitted!\n\nEducation: ${formData.education.length} entries\nWork: ${formData.work.length} entries\nSkills: ${formData.skills.length} skills\n\nCheck console for details.`);
    });

    console.log('üöÄ Advanced ATS Test Form loaded!');
    console.log('üìù Test the extension by clicking "Auto-Fill Form"');
    console.log('‚ú® The extension should automatically:');
    console.log('   1. Click "Add Education" buttons for multiple entries');
    console.log('   2. Click "Add Experience" buttons for multiple entries');
    console.log('   3. Add skills one-by-one with search-and-select');
  </script>
</body>

</html>